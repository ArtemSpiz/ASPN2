{% schema %}
{
  "name": "Choose ASPN Section",
  "settings": [
    {
      "type": "text",
      "id": "responce_name_top",
      "label": "Response Name Top"
    },
    {
      "type": "text",
      "id": "responce_button_text",
      "label": "Response Button Text"
    },
    {
      "type": "image_picker",
      "id": "responce_image",
      "label": "Response Section Image"
    },
  ],
  "blocks": [
    {
      "type": "responce",
      "name": "Response Block",
      "settings": [
        {
          "type": "text",
          "id": "responce_name",
          "label": "Response Name"
        },
        {
          "type": "text",
          "id": "responce_button",
          "label": "Response Button Text"
        },
        {
          "type": "image_picker",
          "id": "responce_middle_image",
          "label": "Middle Image"
        },
        {
          "type": "textarea",
          "id": "responce_middle_text",
          "label": "Middle Text"
        },
        {
          "type": "image_picker",
          "id": "responce_bottom_image",
          "label": "Bottom Image"
        },
        {
          "type": "text",
          "id": "responce_bottom_text",
          "label": "Bottom Text"
        },
        {
          "type": "text",
          "id": "responce_bottom_name",
          "label": "Bottom Name"
        }
      ]
    }
  ],
}
{% endschema %}

<section id="choose" class="respond">
  <div class="responce-container">
    <div class="responces">
      <div class="responces-wrapper">
        <div class="responce slide-center" data-index="-1">

          <div class="responce-top">
            <div class="responce-name">Jake Allen, Cofounder</div>
            <div class="responce-button">
              <button class="responce-btn">Houston, TX</button>
            </div>
          </div>


          <div class="responce-middle">
            <div class="responce-middle-image">
            <img class="responce-middle-img" src="../assets/responce-middle-img.png">
            </div>
            <div class="responce-middle-text">
              During my time at the University of Houston, I had the privilege of training and collaborating with the legendary 9-time Olympic medalist Carl Lewis. Working alongside one of the greatest athletesin history, I gained invaluable insights into running mechanics, advanced techniques, and holistic approaches to athlete development. Carl’s deep understanding of biomechanics and his meticulous attention to detail in training methods influenced how I view performance coaching. Our conversations about maximizing efficiency, technique, and mindset have shaped the way I approach training athletes, ensuring they achieve their full potential. Learning from someone of Carl’s caliber was not only inspiring but also a defining moment in my coaching journey.
            </div>
          </div>

          <div class="responce-bottom">
            <div class="responce-bottom-image">
              <img class="responce-bottom-img" src="../assets/responce-img-bottom.png">
            </div>
            <div class="responce-bottom-text">“Olympian of the Century”</div>
            <div class="responce-bottom-name">- Carl Lewis</div>
          </div>
        </div>


        <div class="responce slide-left" data-index="0">

          <div class="responce-top">
            <div class="responce-name">Jake Allen, Cofounder</div>
            <div class="responce-button">
              <button class="responce-btn">Houston, TX</button>
            </div>
          </div>


          <div class="responce-middle">
            <div class="responce-middle-image">
            <img class="responce-middle-img" src="../assets/responce-middle-img.png">
            </div>
            <div class="responce-middle-text">
              During my time at the University of Houston, I had the privilege of training and collaborating with the legendary 9-time Olympic medalist Carl Lewis. Working alongside one of the greatest athletesin history, I gained invaluable insights into running mechanics, advanced techniques, and holistic approaches to athlete development. Carl’s deep understanding of biomechanics and his meticulous attention to detail in training methods influenced how I view performance coaching. Our conversations about maximizing efficiency, technique, and mindset have shaped the way I approach training athletes, ensuring they achieve their full potential. Learning from someone of Carl’s caliber was not only inspiring but also a defining moment in my coaching journey.
            </div>
          </div>

          <div class="responce-bottom">
            <div class="responce-bottom-image">
              <img class="responce-bottom-img" src="../assets/responce-img-bottom.png">
            </div>
            <div class="responce-bottom-text">“Olympian of the Century”</div>
            <div class="responce-bottom-name">- Carl Lewis</div>
          </div>
        </div>


        <div class="responce slide-right" data-index="1">

          <div class="responce-top">
            <div class="responce-name">Jake Allen, Cofounder</div>
            <div class="responce-button">
              <button class="responce-btn">Houston, TX</button>
            </div>
          </div>


          <div class="responce-middle">
            <div class="responce-middle-image">
            <img class="responce-middle-img" src="../assets/responce-middle-img.png">
            </div>
            <div class="responce-middle-text">
              During my time at the University of Houston, I had the privilege of training and collaborating with the legendary 9-time Olympic medalist Carl Lewis. Working alongside one of the greatest athletesin history, I gained invaluable insights into running mechanics, advanced techniques, and holistic approaches to athlete development. Carl’s deep understanding of biomechanics and his meticulous attention to detail in training methods influenced how I view performance coaching. Our conversations about maximizing efficiency, technique, and mindset have shaped the way I approach training athletes, ensuring they achieve their full potential. Learning from someone of Carl’s caliber was not only inspiring but also a defining moment in my coaching journey.
            </div>
          </div>

          <div class="responce-bottom">
            <div class="responce-bottom-image">
              <img class="responce-bottom-img" src="../assets/responce-img-bottom.png">
            </div>
            <div class="responce-bottom-text">“Olympian of the Century”</div>
            <div class="responce-bottom-name">- Carl Lewis</div>
          </div>
        </div>
      </div>
    </div>
    <div class="slider-arrows-responce">

    <button class="slider-arrow-responce slider-arrow--left" onclick="moveSlide(-1)">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
          <path d="M7.05732 15.8082C6.99925 15.8662 6.95319 15.9352 6.92176 16.011C6.89034 16.0869 6.87416 16.1682 6.87416 16.2503C6.87416 16.3325 6.89034 16.4138 6.92176 16.4897C6.95319 16.5655 6.99925 16.6345 7.05732 16.6925C7.11539 16.7506 7.18433 16.7967 7.2602 16.8281C7.33607 16.8595 7.41739 16.8757 7.49951 16.8757C7.58163 16.8757 7.66295 16.8595 7.73882 16.8281C7.81469 16.7967 7.88363 16.7506 7.9417 16.6925L14.1917 10.4425C14.2498 10.3845 14.2959 10.3156 14.3274 10.2397C14.3588 10.1638 14.375 10.0825 14.375 10.0003C14.375 9.91821 14.3588 9.83688 14.3274 9.76101C14.2959 9.68514 14.2498 9.61621 14.1917 9.55816L7.9417 3.30816C7.82442 3.19088 7.66536 3.125 7.49951 3.125C7.33366 3.125 7.1746 3.19088 7.05732 3.30816C6.94004 3.42544 6.87416 3.5845 6.87416 3.75035C6.87416 3.9162 6.94004 4.07526 7.05732 4.19254L12.8659 10.0003L7.05732 15.8082Z" fill="white"/>
        </svg>
      </button>
      <button class="slider-arrow-responce slider-arrow--right" onclick="moveSlide(1)">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
          <path d="M7.05732 15.8082C6.99925 15.8662 6.95319 15.9352 6.92176 16.011C6.89034 16.0869 6.87416 16.1682 6.87416 16.2503C6.87416 16.3325 6.89034 16.4138 6.92176 16.4897C6.95319 16.5655 6.99925 16.6345 7.05732 16.6925C7.11539 16.7506 7.18433 16.7967 7.2602 16.8281C7.33607 16.8595 7.41739 16.8757 7.49951 16.8757C7.58163 16.8757 7.66295 16.8595 7.73882 16.8281C7.81469 16.7967 7.88363 16.7506 7.9417 16.6925L14.1917 10.4425C14.2498 10.3845 14.2959 10.3156 14.3274 10.2397C14.3588 10.1638 14.375 10.0825 14.375 10.0003C14.375 9.91821 14.3588 9.83688 14.3274 9.76101C14.2959 9.68514 14.2498 9.61621 14.1917 9.55816L7.9417 3.30816C7.82442 3.19088 7.66536 3.125 7.49951 3.125C7.33366 3.125 7.1746 3.19088 7.05732 3.30816C6.94004 3.42544 6.87416 3.5845 6.87416 3.75035C6.87416 3.9162 6.94004 4.07526 7.05732 4.19254L12.8659 10.0003L7.05732 15.8082Z" fill="white"/>
        </svg>
      </button>
      </div>

    <div class="responce-map">
      <img class="responce-map-img" src="../assets/map.png">
      <img class="responce-map-mob-img" src="../assets/map-mob.png">
    </div>
  </div>
</section>

<script>
  let currentIndex = 1;

function moveSlide(direction) {
  const slides = document.querySelectorAll('.responce');
  const wrapper = document.querySelector('.responces');

  // Оновлюємо індекс поточного слайда
  currentIndex = (currentIndex + direction + slides.length) % slides.length;

  const screenWidth = window.innerWidth; // Отримуємо поточну ширину вікна
  const distance = screenWidth <= 700 ? 103 : 100; // Відстань залежить від ширини екрана
  const scale = screenWidth <= 700 ? 1 : 0.8; // Масштаб залежить від ширини екрана
  const verticalOffset = screenWidth <= 700 ? 0 : 30; // Вертикальне зміщення

  slides.forEach((slide, index) => {
    const position = index - currentIndex;

    // Слайд у центрі
    if (position === 0) {
      slide.style.transform = `translate(0, 0) scale(1)`; // Центр екрана
      slide.style.opacity = '1';
      slide.style.zIndex = '10';
    } 
    // Слайди ліворуч і праворуч
    else {
      slide.style.transform = `translate(${position * distance}%, ${verticalOffset}%) scale(${scale})`; // Зміщення вбік
      slide.style.opacity = '0.5';
      slide.style.zIndex = '1';
    }
  });
}

document.addEventListener('DOMContentLoaded', () => {
  moveSlide(0); // Ініціалізація

  // Обробники подій для кнопок
  document.querySelector('.slider-arrow--left').addEventListener('click', () => moveSlide(-1));
  document.querySelector('.slider-arrow--right').addEventListener('click', () => moveSlide(1));

  // Реагування на зміну розміру вікна
  window.addEventListener('resize', () => moveSlide(0));
});



</script>